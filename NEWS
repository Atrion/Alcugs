                       /  "  '  "  '  `  "  '  \
                      /$%&$#$%#$&%&$&$&$$%&$%#$&\
                      #=========================#
                      # ~ Alcugs H'uru Server ~ #
                      #-=======================-#
                     /--(     Latest news     )--\
--------------------/|\-------------------------/|\--------------------------
|Home: http://alcugs.almlys.dyns.net                                        |
-----------------------------------------------------------------------------

17/Jun/2005 - Urunet 3+ Under development ;)
===========================================================================0

 * With the structural changes, the base netcore is being partially 
   re-written. There is still nothing usable on that new tree, but
   if you want to start testing it, the current way to do it now is:
   1st) Generate the configure file
   $ ./reconf.sh
   2nd) Run configure
   $ ./configure --prefix=/I/want/to/install/the/servers/at/this/location
   3rd) Compile
   $ make
   4th) Check
   $ make check
   5th) Install (optional) (I have not tested it, but I suppose, that
                         all binaries will go to the $prefix/bin directory)
   $ make install

   But, why is the netcore being re-written?
    1) I have the hope that urunet3 + will be finished this time.
    2) Adding new game messages is going to be more easy.
    3) It will be more easy to introduce the SDL (StateDesc) parser.
    4) It will help to introduce balanced trees to the vault server.

11/Jun/2005 - Structural Changes in the source tree
===========================================================================0

 * Autoconf is now being added as the prefered system, to configure, and
   compile the servers. Also, there several structural changes in the
   development tree are beind done now.
   Makefile, and config.h has been removed.
   Until autoconf is not fully integrated, you need two do these steps:
    $mv alcconfig.h config.h
    and to build the servers, you need to pass Makefile.old in this way:
    $make -f Makefile.old all
   If you want to try autconf. Just try:
    $./configure
    $make
    and optionally
    $make install
    then the servers will be installed under /usr/local/, you can also force
    an specific directory with:
    $./configure --prefix=/home/alcugs
   Note, don't expect autoconf to work in the current version, we are still
   integrating it with the sources.
   And if everything else fails, try an old revision, or post your problem
   at the forums.


30/Apr/2005 - Release 1.3.1p (beta)
===========================================================================0

 * Config Parser now allows tuples, it's still not finished, but you will
   see it working with the Alcugs client.
   To avoid problems, be sure that in uru.conf all values on any variable 
   that have a coma ',' are between 2 '"', or the parser will put each
   value into different fields of the tuple.
 * Work on the Plasma Firewall is also progressing.
 * Also, you will need the development headers and libraryes of wxWidgets
   to be able to compile the first extremely alpha versions of the
   Alcugs Client & Patcher.


16/Apr/2005 - Release 1.3.1n (beta)
===========================================================================0

 * There are several changes from release 1.1.15 to this release.
 * This is an unfinished version of the servers, with a new netcore (unet3)
 * You should be using a game server binary from the urunet 2 branch, until
   the urunet 3 game servers are finished and working.
 * Vault corruption issue: All vault servers from the unet3 branch had a nasty
   problem where the age guid of several vault nodes was filled by garbage.
   This problem affects to everybody running versions between 1.3.1a and
    1.3.1n.
   Versions >= 1.3.1n don't have this problem.
   You can examine this problem with vault manager, and with the next query:

SELECT * FROM `vault` WHERE age_guid!="0000000000000000" 
 and age_guid!="" and type!=29 and type!=27 and type!=28 
 and (type!=22 or (type=22 and torans!=2 and torans!=8))
 and type!=25 and type!=26 and type!=32 and type!=35

   You may see some nodes, where the age_guid is garbage.
   I have not seen yet any strange effect, but I have manually cleaned this
   corruption from the GoE shard vault.
   After entering these queries, I should remember that you need to do a
   backup of the databases, so if you break something, you can just rollback.
   It's also recomended to shutdown the shard while you are cleanning this
   corruption.
   This query should clean almost all corrupted data, back to the normal value.

UPDATE vault set age_guid="", timestamp=UNIX_TIMESTAMP(NOW())
WHERE age_guid!="0000000000000000" and age_guid!=""
 and type!=29 and type!=27 and type!=28 
 and (type!=22 or (type=22 and torans!=2 and torans!=8))
 and type!=25 and type!=26 and type!=32 and type!=35

   Now, the hard job, if that some nodes, must be manually fixed.
   With your favorite mysql client app, run the next query.

SELECT * FROM `vault` WHERE
age_guid!="0000000000000000" and age_guid!=""
and  ((age_name="") or (type!=22 and type!=35
and type!=32 and type!=26 and type!=25 and type!=27
and type!=29 and type!=28))

   And you need to manually analize the situation.
   A legal allowed age guid is: "", "0000000000000000", or
   "KIKIKIKI0000ID00" where KIKIKIKI is the player ki number
   in hexadecimal notation, and ID is the age unique id.
   Any guid that don't follows this must be set to "".
   Also, you will need to update the timestamp, with timestamp+1,
   that should be enough to force an update to the player's vnode
   caches.
 * Also, Almlys did another mistake in the previous version, and
   is that the DniCityX2Finale should not have owners, to fix
   this you need to check that the DniCityX2Finale AgeOwnersFolder
   is empty, if not, you should manually delete that folder from
   vault manager.


01/Dec/2004 - Release 1.1.15 (pre)
===========================================================================0

 * Small change in the vault format, wipe is recomened, but not required,
   the vault will be automatically converted to the new format.
   It's extremely recomended to do a backup of your vault if you apreciate
   it a lot.
 * Experimental Multiple instance mode is now enabled by default,
   AvatarCustomization, Personal & Nexus are now private ages.
   I think that it's fun to have Cleft as a shared age, if it causes
   problems, you can make it private by adding it to the list.
 * Now, you can easily add new ages to the server. The server will allow you
   to link only to the ages that are listed inside the tracking/vault/lobby 
   age folders.

20/Nov/2004 - Release 1.1.14
===========================================================================0

 * Some sdl stuff has been implemented that will allow you to do
   more things than the previous version. There are still some
   known nasty bugs. You can succesfully solve Cleft now, also
   other ages may be solvable, there are still problems with the
   camera and the cursor, that may be caused by some missing game
   messages. Be aware that the game servers are still not storing
   the progress in the filesystem or the vault, each time that
   you link into the age again, all the progress will be reset
   to the default values. (You should be able to do the path
   of the shell puzzle, it will be funny to see someone else playing
   with the big ball...)
 * For the next version there are major changes planned, all the
   SDL parsing functions are going to be rewritten from scratch, and
   then it will be more easy to store things in the vault.


                             ~~ooOoo~~


