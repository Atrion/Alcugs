                       /  "  '  "  '  `  "  '  \
                      /$%&$#$%#$&%&$&$&$$%&$%#$&\
                      #=========================#
                      # ~    Alcugs Server    ~ #
                      #-=======================-#
                     /--(     Latest news     )--\
--------------------/|\-------------------------/|\--------------------------
| Home: http://alcugs.sf.net                                                |
-----------------------------------------------------------------------------

01/Dec/2005 - New alcugs authentication subsystem
===========================================================================0
The new authentication server does not authenticate anymore using the
Plasma auth gateway. In order to enable it, you need to set the "auth.cgas"
configuration var to 1. (By default is 0).
You may need to wipe your old auth database, since the new one if completely
incompatible and there is no upgrade script inmplemented.
Once you are using this new server, you need to create user accounts with
different access levels and completely random GUID's into the auth database.
If the Plasma gateway is enabled, plasma accounts are automatically created
for you with the default configured access level.
This server authenticates 70% more faster than the old one. Thanks to the
usage of an authentication cache.

30/Nov/2005 - The GPL - New alcugs authentication subsystem
===========================================================================0
It's pretty curious that nobody has said that not allowing users to modify
the alcugs authentication code it's indeed a direct GPL violation.
Forcing users to not being able to do something, goes against all that the
GPL says. Users are free to do what they wish with the code.
You are completely free to do anything that you want with the Alcugs code.
The only think that I ask, is to don't remove the copyright and the authors
list. You must always give merit to the creators of the software.
I'm not going to tolerate any actions that go against the freedom of the
Alcugs project. And I'm not going to tolerate any actions that go against
the future of Alcugs.

The other news, is that perhaps by the 1st of December or by the 1st of
January, I will release the sources of the authentication subsystem that is
being used by the GoE shard. This subsystem has a built-in cache that speeds 
up a lot the linking times. It allows users to succesfully log in when the 
CGAS is temporary (or permanently down), and it allows you to authenticate
users against another database, like a phpbb forum.

It has been now more than 61 days that the Global registration service has
been discontinued, and due to the lack of official response, I think that
now is time to decide for the future of our shards.

The work on unet3+ continues, very slowly but continues.

22/Nov/2005 - Removed CGAS limitation
===========================================================================0
Seing that there isn't any way to purchase any new keys to play Uru, at the
same time that it seems that the CGAS may be discontinued at any moment, I
hame removed all the notices related with the CGAS, and now the legal
responsability will reside on the hands of the shard admin. Well, I think
that very soon running a shard is going to be illegal, but well these things
happen.
On the next version of the auth server you will be able to configure the
authentication backend (a PHPBB forum database, etc..), currently you need
to edit by hand the CGAS related files and change the url to your own 
authentication server.
Additional note: I suppose that Cyan have changed the encryption and the 
the protocol of the new Uru live client. At current time Alcugs will
only support clients up to the 12.7 network version. There is not going
to be support for the new clients because you can play them on the official
servers (after paying a monthly fee)

20/Nov/2005 - Base code Finished - Adding multi-threaded support
===========================================================================0

 * The base skeleton code of the server is finished, and it only needs the
 different subsystems to be plugged into it. These subsystems are like
 plugins, them are currently statically linked, but perhaps in the
 future them will be dinamically linked.
 * Support for running multiple worker threads is now being added. Since 
 Alcugs is not yet 100% thread-safe there could be problems until I can 
 asure that it's thread safe. You can compile single-threaded server with 
 the option "--dissable-threads" when you run configure.
 * I expect to have ported the lobby server from unet3 to unet3+ this week,
 and then I will upgrade the GoE shard to test it in multi-threaded mode.

30/Jun/2005 - Urunet 3+ Development Finished - Starting to port the servers
===========================================================================0

 * The new heart of the servers is now finished, and prepared to enter into
 a complex betatest phase. Now, the re-write of all the old servers starts
 and this time, the game servers are going to be ported from Urunet 2 to 3.
 New Netcore features:
  * Protection against illegally crafted messages, that will crash an old
  version of the netcore.
  * Prouds to be more stable. (Me hopes that)
  * Better flux and congestion control. Messages should be really delivered
  at the speed negotiated between the client and the server.
  * Backtrace reports if something goes bad.

17/Jun/2005 - Urunet 3+ Under development ;)
===========================================================================0

 * With the structural changes, the base netcore is being partially 
   re-written. There is still nothing usable on that new tree, but
   if you want to start testing it, the current way to do it now is:
   1st) Generate the configure file
   $ ./reconf.sh
   2nd) Run configure
   $ ./configure --prefix=/I/want/to/install/the/servers/at/this/location
   3rd) Compile
   $ make
   4th) Check
   $ make check
   5th) Install (optional) (I have not tested it, but I suppose, that
                         all binaries will go to the $prefix/bin directory)
   $ make install

   But, why is the netcore being re-written?
    1) I have the hope that urunet3 + will be finished this time.
    2) Adding new game messages is going to be more easy.
    3) It will be more easy to introduce the SDL (StateDesc) parser.
    4) It will help to introduce balanced trees to the vault server.

11/Jun/2005 - Structural Changes in the source tree
===========================================================================0

 * Autoconf is now being added as the preferred system, to configure, and
   compile the servers. Also, there several structural changes in the
   development tree are being done now.
   Makefile, and config.h has been removed.
   Until autoconf is not fully integrated, you need two do these steps:
    $mv alcconfig.h config.h
    and to build the servers, you need to pass Makefile.old in this way:
    $make -f Makefile.old all
   If you want to try autconf. Just try:
    $./configure
    $make
    and optionally
    $make install
    then the servers will be installed under /usr/local/, you can also force
    an specific directory with:
    $./configure --prefix=/home/alcugs
   Note, don't expect autoconf to work in the current version, we are still
   integrating it with the sources.
   And if everything else fails, try an old revision, or post your problem
   at the forums.


30/Apr/2005 - Release 1.3.1p (beta)
===========================================================================0

 * Config Parser now allows tuples, it's still not finished, but you will
   see it working with the Alcugs client.
   To avoid problems, be sure that in uru.conf all values on any variable 
   that have a coma ',' are between 2 '"', or the parser will put each
   value into different fields of the tuple.
 * Work on the Plasma Firewall is also progressing.
 * Also, you will need the development headers and libraries of wxWidgets
   to be able to compile the first extremely alpha versions of the
   Alcugs Client & Patcher.


16/Apr/2005 - Release 1.3.1n (beta)
===========================================================================0

 * There are several changes from release 1.1.15 to this release.
 * This is an unfinished version of the servers, with a new netcore (unet3)
 * You should be using a game server binary from the urunet 2 branch, until
   the urunet 3 game servers are finished and working.
 * Vault corruption issue: All vault servers from the unet3 branch had a nasty
   problem where the age guid of several vault nodes was filled by garbage.
   This problem affects to everybody running versions between 1.3.1a and
    1.3.1n.
   Versions >= 1.3.1n don't have this problem.
   You can examine this problem with vault manager, and with the next query:

SELECT * FROM `vault` WHERE age_guid!="0000000000000000" 
 and age_guid!="" and type!=29 and type!=27 and type!=28 
 and (type!=22 or (type=22 and torans!=2 and torans!=8))
 and type!=25 and type!=26 and type!=32 and type!=35

   You may see some nodes, where the age_guid is garbage.
   I have not seen yet any strange effect, but I have manually cleaned this
   corruption from the GoE shard vault.
   After entering these queries, I should remember that you need to do a
   backup of the databases, so if you break something, you can just rollback.
   It's also recommended to shutdown the shard while you are cleaning this
   corruption.
   This query should clean almost all corrupted data, back to the normal value.

UPDATE vault set age_guid="", timestamp=UNIX_TIMESTAMP(NOW())
WHERE age_guid!="0000000000000000" and age_guid!=""
 and type!=29 and type!=27 and type!=28 
 and (type!=22 or (type=22 and torans!=2 and torans!=8))
 and type!=25 and type!=26 and type!=32 and type!=35

   Now, the hard job, if that some nodes, must be manually fixed.
   With your favorite mysql client app, run the next query.

SELECT * FROM `vault` WHERE
age_guid!="0000000000000000" and age_guid!=""
and  ((age_name="") or (type!=22 and type!=35
and type!=32 and type!=26 and type!=25 and type!=27
and type!=29 and type!=28))

   And you need to manually analyze the situation.
   A legal allowed age guid is: "", "0000000000000000", or
   "KIKIKIKI0000ID00" where KIKIKIKI is the player ki number
   in hexadecimal notation, and ID is the age unique id.
   Any guid that don't follows this must be set to "".
   Also, you will need to update the timestamp, with timestamp+1,
   that should be enough to force an update to the player's vnode
   caches.
 * Also, Almlys did another mistake in the previous version, and
   is that the DniCityX2Finale should not have owners, to fix
   this you need to check that the DniCityX2Finale AgeOwnersFolder
   is empty, if not, you should manually delete that folder from
   vault manager.


01/Dec/2004 - Release 1.1.15 (pre)
===========================================================================0

 * Small change in the vault format, wipe is recommended, but not required,
   the vault will be automatically converted to the new format.
   It's extremely recommended to do a backup of your vault if you appreciate
   it a lot.
 * Experimental Multiple instance mode is now enabled by default,
   AvatarCustomization, Personal & Nexus are now private ages.
   I think that it's fun to have Cleft as a shared age, if it causes
   problems, you can make it private by adding it to the list.
 * Now, you can easily add new ages to the server. The server will allow you
   to link only to the ages that are listed inside the tracking/vault/lobby 
   age folders.

20/Nov/2004 - Release 1.1.14
===========================================================================0

 * Some sdl stuff has been implemented that will allow you to do
   more things than the previous version. There are still some
   known nasty bugs. You can successfully solve Cleft now, also
   other ages may be solvable, there are still problems with the
   camera and the cursor, that may be caused by some missing game
   messages. Be aware that the game servers are still not storing
   the progress in the filesystem or the vault, each time that
   you link into the age again, all the progress will be reset
   to the default values. (You should be able to do the path
   of the shell puzzle, it will be funny to see someone else playing
   with the big ball...)
 * For the next version there are major changes planned, all the
   SDL parsing functions are going to be rewritten from scratch, and
   then it will be more easy to store things in the vault.


                             ~~ooOoo~~


